jQuery(document).ready(function($) {

	// $(".box-master").hide();
	
	$("#btn1").click(function(){
		abreFechaMenu('btn1', 'grid', 'list');
	})

	$("#btn2").click(function(){
		abreFechaMenu('btn2', 'list','grid');
	});

	function abreFechaMenu(btn, classeA, classeB){

		if ($(".box-master > div").width()){
			$(".box-master").css('cssText', 'width: 0px;');

			setTimeout(function(){ 
				$(".box-master > div").removeClass('grid');
				$(".box-master > div").removeClass('list');
			}, 500);


			$(".tcon-menu__lines").css('cssText', 'background: #fff;');
			$("#btn1").fadeIn('slow');
			$("#btn2").fadeIn('slow');
		} else {
			
			if (btn == 'btn1'){
				$("#btn2").fadeOut();
				
			} else {
				$("#btn1").fadeOut();
				$(".tcon-menu__lines").css('cssText', 'background: transparent;');
			}

			$(".box-master > div").addClass(classeA);
			$(".box-master").css('cssText', 'width: calc(100% - 100px);');
		}

		
	}

	if($('.parallax').length){
		$(window).scroll(function(){
			$('.parallax').each(function(r){
	        	var speed = 1.1; //não alterar, definir data-speed no html
				var offset = 0; //não alterar, definir data-offset no html
				var position_x = 50; //não alterar, definir data-position-x no html
				var scrolled = $(window).scrollTop();
				
				if($(this).attr('data-speed')) {
					speed = parseFloat($(this).attr('data-speed'));
				}
				if($(this).attr('data-offset')) {
					offset = parseFloat($(this).attr('data-offset'));
				}
				if($(this).attr('data-position-x')) {
					position_x = parseFloat($(this).attr('data-position-x'));
				}
				
				$(this).css('background-position', position_x+'% '+ - (scrolled * speed - offset) + 'px');   
			});
		}).trigger('scroll');
	}
});